# !/usr/bin/env python3
#
# script name:  Signature-based Malware Detection Part 1 of 3
# author:       ben_podawiltz
# revision:     9.28.21
#
######################################


##########################
#
# Libraries
import subprocess
import os
import logging 


##########################################

# file_str = "dummmy.txt"
file_str = input("Please enter file name for search: ")
# dir_str = "/home/benjamin/dummy/"  
dir_str = input("Please enter directory for search: ")   

def linuxSearch(file_str, dir_str):
    malicious = []
    filecount = 0
    print(len(malicious))
    for root, dir, files in os.walk(dir_str):
        print('Searching for in:',root)
        filecount += 1
        if file_str in files:
            matchPath =  os.path.join(root,file_str)
            malicious.append(matchPath)
            print("Found file: ", file_str, "Found Path: ", matchPath)
    if len(malicious) == 0:
        print("File Not Found")
    print("Files searched: ", filecount, "Hits Found: ", len(malicious))
    print(malicious)


      ##     try:
        #        found = Files.find(fileName)
         #       print(found)
          #      if found != -1:
           #         print(fileName, 'Found')
            #        break
            #except:
             #   exit()


            #if file.__str__==fileSearch:
             #   print(root+'/'+str(file))
       # find 
        #else:
        #    print("No sir")
    #print("Matching query '", dirSearch, "' :")
    #print(dir_list)
   #os.system("find " + str(dirSearch) + ' -name ' + str(fileSearch))
   # print("")
    #os.system("ls | wc -l" + str(dirSearch))
  

    #ct = "ls -la | wc -l"
    #mysearch = "This directory has {} files and {} of matching queries"
    # print(mysearch.format(ct,))
    #    ls -l | wc -l
    #find / -name var 
    # word count in current dir
        

if __name__=='__main__':
    linuxSearch(file_str, dir_str)



#def main_menu():
 #  if user_input == "l":
  #      linSearch()
   # elif user_input == "w":
    #    winSearch()
    ##lse:
     #   print("Error, make another selection")
      #  main_menu()


#main_menu()


#
#Resource: https://geeksforgeeks.org/os-module-python-examples/




#End